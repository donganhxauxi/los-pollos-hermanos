(this["webpackJsonplos-pollos-hermanos"]=this["webpackJsonplos-pollos-hermanos"]||[]).push([[0],[,,,function(e,t,n){e.exports={form:"Checkout_form__1YNhW",control:"Checkout_control__3bgqy",actions:"Checkout_actions__1aBzJ",submit:"Checkout_submit__ZeodS",invalid:"Checkout_invalid__2TzhC"}},,function(e,t,n){e.exports={"cart-items":"Cart_cart-items__1juD4",total:"Cart_total__30KcW",actions:"Cart_actions__3CRmY","button--alt":"Cart_button--alt__zwZlh",button:"Cart_button__2HYVI"}},function(e,t,n){e.exports={"cart-item":"CartItem_cart-item__CPh_q",summary:"CartItem_summary__2TqFT",price:"CartItem_price__3pk1f",amount:"CartItem_amount__1WLHq",actions:"CartItem_actions__2pzU2"}},,,function(e,t,n){e.exports={button:"HeaderCartButton_button__Z-KAY",icon:"HeaderCartButton_icon__29bTh",badge:"HeaderCartButton_badge__WBn6Y",bump:"HeaderCartButton_bump__2AyrD"}},,function(e,t,n){e.exports={backdrop:"Modal_backdrop__3n8tk",modal:"Modal_modal__1kfWP","slide-down":"Modal_slide-down__g-AES"}},function(e,t,n){e.exports={meals:"AvailableMeals_meals__1Qaqf","meals-appear":"AvailableMeals_meals-appear__3zu9U",mealsLoading:"AvailableMeals_mealsLoading__2oL5U",mealsError:"AvailableMeals_mealsError__2mnyq"}},function(e,t,n){e.exports={meal:"MealItem_meal__3EIkg",description:"MealItem_description__IIG2t",price:"MealItem_price__VKuPy"}},,function(e,t,n){e.exports={header:"Header_header__3yvis","main-image":"Header_main-image__1r2QF"}},,,,function(e,t,n){e.exports={card:"Card_card__2Heq2"}},function(e,t,n){e.exports={input:"Input_input__-cQKi"}},function(e,t,n){e.exports={form:"MealItemForm_form__3N29I"}},function(e,t,n){e.exports={summary:"MealsSummary_summary__1S7PJ"}},,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(7),c=n.n(a),r=(n(27),n(2)),s=n(1),i=n.n(s),o=n(4),l=n(11),u=n.n(l),m=n(0),d=function(e){return Object(m.jsx)("div",{className:u.a.backdrop,onClick:e.onClose})},j=function(e){return Object(m.jsx)("div",{className:u.a.modal,children:Object(m.jsx)("div",{className:u.a.content,children:e.children})})},b=document.querySelector("#overlays");function h(e){return Object(m.jsxs)(s.Fragment,{children:[c.a.createPortal(Object(m.jsx)(d,{onClose:e.onClose}),b),c.a.createPortal(Object(m.jsx)(j,{children:e.children}),b)]})}var O=n(5),p=n.n(O),x=i.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),f=n(6),_=n.n(f),v=function(e){var t="$".concat(e.price.toFixed(2));return Object(m.jsxs)("li",{className:_.a["cart-item"],children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:e.name}),Object(m.jsxs)("div",{className:_.a.summary,children:[Object(m.jsx)("span",{className:_.a.price,children:t}),Object(m.jsxs)("span",{className:_.a.amount,children:["x ",e.amount]})]})]}),Object(m.jsxs)("div",{className:_.a.actions,children:[Object(m.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(m.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},C=n(3),y=n.n(C),g=function(e){var t=Object(s.useState)({name:!0,street:!0,postalCode:!0,city:!0}),n=Object(r.a)(t,2),a=n[0],c=n[1],i=function(e){return 0===e.trim().length},o=Object(s.useRef)(),l=Object(s.useRef)(),u=Object(s.useRef)(),d=Object(s.useRef)();return Object(m.jsxs)("form",{className:y.a.form,onSubmit:function(e){e.preventDefault();var t=o.current.value,n=l.current.value,a=u.current.value,r=d.current.value,s=!i(t),m=!i(n),j=!i(r),b=5===a.length;c({name:s,street:m,postalCode:b,city:j})},children:[Object(m.jsxs)("div",{className:"".concat(y.a.control," ").concat(a.name?"":y.a.invalid),children:[Object(m.jsx)("label",{htmlFor:"name",children:"Your Name"}),Object(m.jsx)("input",{type:"text",id:"name",ref:o}),!a.name&&Object(m.jsx)("p",{children:"Please enter a valid name."})]}),Object(m.jsxs)("div",{className:"".concat(y.a.control," ").concat(a.street?"":y.a.invalid),children:[Object(m.jsx)("label",{htmlFor:"street",children:"Street"}),Object(m.jsx)("input",{type:"text",id:"street",ref:l}),!a.street&&Object(m.jsx)("p",{children:"Please enter a valid street."})]}),Object(m.jsxs)("div",{className:"".concat(y.a.control," ").concat(a.postalCode?"":y.a.invalid),children:[Object(m.jsx)("label",{htmlFor:"postal",children:"Postal Code"}),Object(m.jsx)("input",{type:"text",id:"postal",ref:u}),!a.postalCode&&Object(m.jsx)("p",{children:"Please enter a valid postal code (5 numbers long)."})]}),Object(m.jsxs)("div",{className:"".concat(y.a.control," ").concat(a.city?"":y.a.invalid),children:[Object(m.jsx)("label",{htmlFor:"city",children:"City"}),Object(m.jsx)("input",{type:"text",id:"city",ref:d}),!a.city&&Object(m.jsx)("p",{children:"Please enter a valid city."})]}),Object(m.jsxs)("div",{className:y.a.actions,children:[Object(m.jsx)("button",{type:"button",onClick:e.onCancel,children:"Cancel"}),Object(m.jsx)("button",{className:y.a.submit,children:"Confirm"})]})]})};function N(e){var t=Object(s.useState)(null),n=Object(r.a)(t,2),a=n[0],c=n[1],i=Object(s.useContext)(x),l="$".concat(i.totalAmount.toFixed(2)),u=function(e){i.removeItem(e)},d=function(e){i.addItem(Object(o.a)(Object(o.a)({},e),{},{amount:1}))},j=Object(m.jsx)("ul",{className:p.a["cart-items"],children:i.items.map((function(e){return Object(m.jsx)(v,{name:e.name,amount:e.amount,price:e.price,onRemove:u.bind(null,e.id),onAdd:d.bind(null,e)},e.id)}))}),b=i.items.length>0,O=Object(m.jsxs)("div",{className:p.a.actions,children:[Object(m.jsx)("button",{className:p.a["button--alt"],onClick:e.onClose,children:"Close"}),b&&Object(m.jsx)("button",{className:p.a.button,onClick:function(){c(!0)},children:"Order"})]});return Object(m.jsxs)(h,{onClose:e.onClose,children:[j,Object(m.jsxs)("div",{className:p.a.total,children:[Object(m.jsx)("span",{children:"Total Amount"}),Object(m.jsx)("span",{children:l})]}),a&&Object(m.jsx)(g,{onCancel:e.onClose}),!a&&O]})}var k=n.p+"static/media/header-image.b46f4b5c.jpg",w=n.p+"static/media/logo.995a63e5.png",A=n(15),I=n.n(A),S=function(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(m.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},M=n(9),H=n.n(M);function P(e){var t=Object(s.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1],i=Object(s.useContext)(x),o=i.items.reduce((function(e,t){return e+t.amount}),0),l=Object(s.useMemo)((function(){return i.items}),[i.items]);Object(s.useEffect)((function(){if(0!==l.length){c(!0);var e=setTimeout((function(){c(!1)}),300);return function(){clearTimeout(e)}}}),[l]);var u="".concat(H.a.button," ").concat(a?H.a.bump:"");return Object(m.jsxs)("button",{className:u,onClick:e.onClick,children:[Object(m.jsx)("span",{className:H.a.icon,children:Object(m.jsx)(S,{})}),Object(m.jsx)("span",{children:"Your Cart"}),Object(m.jsx)("span",{className:H.a.badge,children:o})]})}function F(e){return Object(m.jsxs)(s.Fragment,{children:[Object(m.jsxs)("header",{className:I.a.header,children:[Object(m.jsx)("img",{src:w,alt:"Los pollos hermanos's logo"}),Object(m.jsx)("h1",{children:"Los Pollos Hermanos"}),Object(m.jsx)(P,{onClick:e.onShowCart})]}),Object(m.jsx)("div",{className:I.a["main-image"],children:Object(m.jsx)("img",{src:k,alt:"Los pollos hermanos's dishes"})})]})}var E=n(16),R=n.n(E),T=n(18),L=n(19),B=n.n(L);function z(e){return Object(m.jsx)("div",{className:B.a.card,children:e.children})}var Y=n(12),q=n.n(Y),D=n(13),V=n.n(D),W=n(20),J=n.n(W),K=i.a.forwardRef((function(e,t){return Object(m.jsxs)("div",{className:J.a.input,children:[Object(m.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(m.jsx)("input",Object(o.a)({ref:t},e.input))]})})),Q=n(21),U=n.n(Q);function Z(e){var t=Object(s.useState)(!0),n=Object(r.a)(t,2),a=n[0],c=n[1],i=Object(s.useRef)();return Object(m.jsxs)("form",{className:U.a.form,onSubmit:function(t){t.preventDefault();var n=i.current.value,a=+n;0===n.trim().length||a<1||a>5?c(!1):e.onAddAmount(a)},children:[Object(m.jsx)(K,{ref:i,label:"Amount",input:{id:"amount",type:"number",step:"1",defaultValue:"1"}}),Object(m.jsx)("button",{type:"submit",children:"+ Add"}),!a&&Object(m.jsx)("p",{children:"Please enter a valid amount (1-5)."})]})}function $(e){var t=Object(s.useContext)(x),n="$".concat(e.price.toFixed(2));return Object(m.jsxs)("li",{className:V.a.meal,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:e.name}),Object(m.jsx)("div",{className:V.a.description,children:e.description}),Object(m.jsx)("div",{className:V.a.price,children:n})]}),Object(m.jsx)("div",{children:Object(m.jsx)(Z,{onAddAmount:function(n){t.addItem({id:e.id,name:e.name,amount:n,price:e.price})}})})]})}var G=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!0),i=Object(r.a)(c,2),o=i[0],l=i[1],u=Object(s.useState)(null),d=Object(r.a)(u,2),j=d[0],b=d[1];if(Object(s.useEffect)((function(){(function(){var e=Object(T.a)(R.a.mark((function e(){var t,n,c,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://lospolloshermanos-default-rtdb.firebaseio.com/meals.json");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Something went wrong!");case 6:return e.next=8,t.json();case 8:for(r in n=e.sent,c=[],n)c.push({id:r,name:n[r].name,description:n[r].description,price:n[r].price});a(c),l(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),l(!1),b(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()}),[]),o)return Object(m.jsx)("section",{className:q.a.mealsLoading,children:Object(m.jsx)("p",{children:"Loading..."})});if(j)return Object(m.jsx)("section",{className:q.a.mealsError,children:Object(m.jsx)("p",{children:j})});var h=n.map((function(e){return Object(m.jsx)($,{id:e.id,name:e.name,price:e.price,description:e.description},e.id)}));return Object(m.jsx)("section",{className:q.a.meals,children:Object(m.jsx)(z,{children:Object(m.jsx)("ul",{children:h})})})},X=n(22),ee=n.n(X);function te(){return Object(m.jsxs)("section",{className:ee.a.summary,children:[Object(m.jsx)("h2",{children:"A chicken wing to die for..."}),Object(m.jsx)("p",{children:"In the little village where i was born, life moved at a slower pace. Yet, felt all the richer for it. There, my two uncles were known far and wide for their delicious cooking. They seasoned their zesty chicken, using only the freshest herbs, and spices! People call them: Los Pollos Hermanos; The Chicken Brothers. Today we carry on their tradition in a manner that would make my uncles proud. The finest ingredients are brought together with love and care, then... slow-cooked to perfection. Yes, the old ways are still best at Los Pollos Hermanos. But don't take my word for it... One taste, and you'll know."})]})}function ne(){return Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)(te,{}),Object(m.jsx)(G,{})]})}var ae=n(17),ce={items:[],totalAmount:0},re=function(e,t){if("ADD"===t.type){var n,a=e.totalAmount+t.item.amount*t.item.price,c=e.items.findIndex((function(e){return e.id===t.item.id})),r=e.items[c];if(r){var s=Object(o.a)(Object(o.a)({},r),{},{amount:r.amount+t.item.amount});(n=Object(ae.a)(e.items))[c]=s}else n=e.items.concat(t.item);return{items:n,totalAmount:a}}if("REMOVE"===t.type){var i,l=e.items.findIndex((function(e){return e.id===t.id})),u=e.items[l],m=e.totalAmount-u.price;if(1===u.amount)i=e.items.filter((function(e){return e.id!==t.id}));else{var d=Object(o.a)(Object(o.a)({},u),{},{amount:u.amount-1});(i=Object(ae.a)(e.items))[l]=d}return{items:i,totalAmount:m}}return ce},se=function(e){var t=Object(s.useReducer)(re,ce),n=Object(r.a)(t,2),a=n[0],c=n[1],i={items:a.items,totalAmount:a.totalAmount,addItem:function(e){c({type:"ADD",item:e})},removeItem:function(e){c({type:"REMOVE",id:e})}};return Object(m.jsx)(x.Provider,{value:i,children:e.children})};var ie=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(m.jsxs)(se,{children:[n&&Object(m.jsx)(N,{onClose:function(){a(!1)}}),Object(m.jsx)(F,{onShowCart:function(){a(!0)}}),Object(m.jsx)("main",{children:Object(m.jsx)(ne,{})})]})};c.a.render(Object(m.jsx)(ie,{}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.def3fd24.chunk.js.map